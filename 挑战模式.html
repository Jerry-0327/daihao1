<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>代号一</title>
		<style>
		#yx, #zy{
        background: rgba(255,255,255,0.9);
        border-radius: 10px;
        padding: 20px;
        margin: 15px 0;
        border: 1px solid #eee;
		}
		
		body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }

        #result {
            margin-top: 20px;
            font-size: 20px;
            color: #3498db;
        }
		#shijian {
            margin-top: 20px;
            font-size: 20px;
            color: #3498db;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
		.bu {
            padding: 5px 10px;
            font-size: 8px;
            cursor: pointer;
        }
		h4{
		margin-top:0px;
		margin-bottom:0px;
		}
		.login-btn {
            background: linear-gradient(45deg, #00a3ff, #0066ff);
            color: white;
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: opacity 0.3s;
        }
    </style>
	</head>
	<body>

		<h1>☠️代号一☠️</h1>
		<div id='content'>
			<div id='yx'>

				<p id='msms'></p>
				<h2 id="ttzms"></h2>
				<p>请选择：</p>
				<h4>经济招式</h4>
				<button onclick="p('能量')" id="h1" style="disabled:true;">能量</button>
				<button onclick="p('黑洞')" id="h10" style="display: inline-block;disabled:true;">黑洞</button>
				<button onclick="p('绷带')" style="display: inline-block;disabled:true;" id="h13">绷带</button>
				<button onclick="p('损血回能')" id="h15" style="display: inline-block;disabled:true;">损血回能</button>
				<button onclick="p('损血加伤')" id="h16" style="display: inline-block;ddisabled:true;">损血加伤</button>
				<br>
				<h4>防御招式</h4>
				<button onclick="p('防御')" id="h2" style="disabled:true;">防御</button>
				<button onclick="p('能量防')" style="display: inline-block;disabled:true;" id="h8">能量防</button>
				<button onclick="p('反弹')" id="h9" style="disabled:true;">反弹</button>
				<br>
				<h4>伤害招式</h4>
				<button onclick="p('一发')" id="h3" style="disabled:true;">一发</button>
				<button onclick="p('二发')" style="display: inline-block;disabled:true;" id="h4">二发</button>
				<button onclick="p('三发')" style="display: inline-block;disabled:true;" id="h5">三发</button>
				<button onclick="p('四发')" id="h11" style="display: inline-block;disabled:true;">四发</button>

				<button onclick="p('炸弹')" style="display: inline-block;disabled:true;" id="h6">炸弹</button>
				<button onclick="p('火炮')" id="h12" style="display: inline-block;disabled:true;">火炮</button>

				<button onclick="p('刀')" id="h7" style="disabled:true;">刀</button>
				<button onclick="p('剑')" id="h14" style="display: inline-block;disabled:true;">剑</button>


				<div id="timer">倒计时: <span id="shijian">0.00</span> 秒</div>
				<p id="sj"></p>
				<p id="sj1"></p>
				<p id="sjjj"></p>
				<p id="result"></p>
				<div id='cklscz1'>
					<button onclick="cklscz()" id="cklscz">查看历史出招</button>
				</div>
				<p>请选择技能：</p>
				<button onclick="ssss(0)" id="j0">不选择技能</button>
				<p></p>
				<div id='jnjn'>
					<button onclick="ssss(1)" id="j1">快速炸弹</button>
					<button onclick="ssss(2)" id="j2">先天</button>
					<button onclick="ssss(3)" id="j3">高级能量</button>
					<button onclick="ssss(4)" id="j4">热血</button>
					<button onclick="ssss(5)" id="j5">空城</button>
					<button onclick="ssss(6)" id="j6">嗜己</button>
					<button onclick="ssss(7)" id="j7">白银狮子</button>
					<button onclick="ssss(8)" id="j8">反伤</button>
					<button onclick="ssss(9)" id="j9">能量刀</button>
				</div>
				<p></p>
				<button onclick="ss()" id="cz">重置</button>

				<p id="sjj"></p>
				<button onclick="zy()" class="login-btn">返回选择</button>
			</div>
		</div>
		<script>
			
			document.getElementById("h10").style.display = "none";
			document.getElementById("h11").style.display = "none";
			document.getElementById("h12").style.display = "none";
			document.getElementById("h13").style.display = "none";
			document.getElementById("h14").style.display = "none";
			document.getElementById("h15").style.display = "none";
			document.getElementById("h16").style.display = "none";
			document.getElementById("content").style.display = "block";
			document.getElementById("yx").style.display = "block";
			document.getElementById("j1").style.display = "none";
			document.getElementById("j2").style.display = "none";
			document.getElementById("j3").style.display = "none";
			document.getElementById("j4").style.display = "none";
			document.getElementById("j5").style.display = "none";
			document.getElementById("j6").style.display = "none";
			document.getElementById("j7").style.display = "none";
			document.getElementById("j8").style.display = "none";
			document.getElementById("j9").style.display = "none";
			function zy(){
				window.location.href="挑战选择.html";
			}
			var t1 = document.getElementById('h1');
			var t2 = document.getElementById('h2');
			var t3 = document.getElementById('h3');
			var t4 = document.getElementById('h4');
			var t5 = document.getElementById('h5');
			var t6 = document.getElementById('h6');
			var t7 = document.getElementById('h7');
			var t8 = document.getElementById('h8');
			var t9 = document.getElementById('h9');
			var t10 = document.getElementById('h10');
			var t11 = document.getElementById('h11');
			var t12 = document.getElementById('h12');
			var t13 = document.getElementById('h13');
			var t14 = document.getElementById('h14');
			var t15 = document.getElementById('h15');
			var t16 = document.getElementById('h16');
			var jj0 = document.getElementById('j0');
			var jj1 = document.getElementById('j1');
			var jj2 = document.getElementById('j2');
			var jj3 = document.getElementById('j3');
			var jj4 = document.getElementById('j4');
			var jj5 = document.getElementById('j5');
			var jj6 = document.getElementById('j6');
			var jj7 = document.getElementById('j7');
			var jj8 = document.getElementById('j8');
			var jj9 = document.getElementById('j9');
			var czcz = document.getElementById('cz');
			czcz.disabled=true;
			document.getElementById("cklscz1").style.display = "block";
			var a1 = 1;
			var aa1 = 0;
			var b1 = 0;
			var c1 = 1;
			var d1 = 0;
			var e1 = 0;
			var a2 = 1;
			var aa2 = 0;
			var b2 = 0;
			var c2 = 1;
			var d2 = 0;
			var e2 = 0;
			var f1 = '';
			var f2 = '';
			var f3 = '';
			var zong = 0;
			var ying = 0;
			var zong1 = Number(localStorage.getItem('zong1'));
			var ying1 = Number(localStorage.getItem('ying1'));
			var cz1 = Number(localStorage.getItem('cz1')) ;
			var cz = 0;
			var jn1 = 0;
			var jn2 = new Array(10).fill(0);
			var jn3 = new Array(10).fill(0);
			var lscz1 = "";
			var lscz2 = "";
			var lsjlbg = [];
			var sxjs1 = true;
			var sxjs2 = true;
			var lsjlbg=[];
			var lsjlbg1=JSON.parse(localStorage.getItem('lsjlbg1')) || [];
			var hd = false;
			var ksms = false;
			var aa = 1;
			var szsj = 30000;
			var lscz = true;
			var hd = false;
			var ksms = false;
			var aa = 1;
			var tzms = Number(localStorage.getItem('tzms'));
			var mqms ="";
			   // 处理数字类型
			    const storedAa = sessionStorage.getItem('aa');
			    aa = storedAa && !isNaN(storedAa) ? Number(storedAa) : 1;
				const storedtzms = sessionStorage.getItem('tzms');
				tzms = storedtzms && !isNaN(storedtzms) ? Number(storedtzms) : 1;
			    
			    const storedSzsj = sessionStorage.getItem('szsj');
			    szsj = storedSzsj && !isNaN(storedSzsj) ? Number(storedSzsj) : 30000;
				
			
			 

			function millisecondsToSeconds(milliseconds) {
				return milliseconds / 1000;
			}

			function setItem() {
				localStorage.setItem('zong1', String(zong1));
				localStorage.setItem('ying1', String(ying1));
				localStorage.setItem('cz1', String(cz1));
				localStorage.setItem('lsjlbg1', JSON.stringify(lsjlbg1));
				localStorage.setItem('tzjg', JSON.stringify(tzjg));
			}

			function removeItem() {
				localStorage.removeItem('zong1');
				localStorage.removeItem('ying1');
				localStorage.removeItem('cz1');
				localStorage.removeItem('lsjlbg1');
				zong1 = zong;
				ying1 = ying;
				cz1 = cz;
				lsjlbg1=lsjlbg;
			}



			function ks() {
				var totalMilliseconds = szsj;
				var remainingMilliseconds = totalMilliseconds;
				var display = document.querySelector("#timer span");
				var timerId = null; // 用于存储定时器ID

				function updateTimer() {
					if (remainingMilliseconds > 0) {
						remainingMilliseconds -= 10; // 每次更新减少10毫秒（注意这里为了简化直接减少了10毫秒）
						display.textContent = (remainingMilliseconds / 1000).toFixed(2); // 转换为秒并保留两位小数
						timerId = setTimeout(updateTimer, 10); // 重新设置定时器
					} else {
						display.textContent = "0.00"; // 倒计时结束
						// 可以在这里添加其他倒计时结束后的逻辑
						// ...
						document.getElementById('result').textContent = '你输了';
						jz();
					}
				}

				return {
					start: function() {
						if (timerId !== null) {
							clearTimeout(timerId); // 如果定时器已经启动，先停止它
						}
						remainingMilliseconds = totalMilliseconds; // 重置剩余时间
						display.textContent = (totalMilliseconds / 1000).toFixed(2); // 重置显示
						timerId = setTimeout(updateTimer, 10); // 开始新的倒计时
					},
					reset: function() {
						if (timerId !== null) {
							clearTimeout(timerId); // 停止定时器
							totalMilliseconds = szsj;
							remainingMilliseconds = totalMilliseconds;
							timerId = null; // 可选：将定时器ID重置为null，表示没有定时器在运行
						}
						// 注意：reset方法本身不重置剩余时间或重新开始计时器，它只是停止它
						// 如果你想要在reset后立即开始一个新的计时器，你应该在调用reset之后立即调用start
					}
				};
			}

			// 使用
			var timer = ks();



			// 假设我们有一个倒计时，从3000毫秒（即3秒）开始

			function g() {
				t1.disabled = false;
				t2.disabled = false;
				t9.disabled = false;
				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				if (a1 > 0.5) {
					t15.disabled = false;
					if (sxjs1) {
						t16.disabled = false;
					}
				}
				if (b1 >= 1) {
					t3.disabled = false;
					t8.disabled = false;
					t7.disabled = false;
					if (a1 < aa && (jn3[4] == 0 && jn3[6] == 0)) {
						t13.disabled = false;
					}
				}
				if (b1 >= 2) {
					t10.disabled = false;
					t4.disabled = false;
					t14.disabled = false;
					if (jn3[1] === 1) {
						t6.disabled = false;
					}
				}
				if (b1 >= 3) {
					t5.disabled = false;
					t6.disabled = false;
				}
				if (b1 >= 4) {
					t11.disabled = false;
				}
				if (b1 >= 5) {
					t12.disabled = false;
				}
				if (c1 >= 1) {
					t9.disabled = false;
				} else if (c1 <= 0) {
					t9.disabled = true;
				}
			}

			function jz() {
				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t1.disabled = true;
				t2.disabled = true;
				t9.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				timer.reset();
				timer.reset();
				//document.getElementById("sjj").textContent = '本次局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				document.getElementById("cklscz1").style.display = "block";
				setItem();
			}

			function jnxs() {
				document.getElementById("sjjj").textContent = '你的技能：';
				if (jn3[0] == 1) {
					document.getElementById("sjjj").textContent += '不选择技能，';
				} else {
					if (jn3[1] == 1) {
						document.getElementById("sjjj").textContent += '快速炸弹，';
					}
					if (jn3[2] == 1) {
						document.getElementById("sjjj").textContent += '先天，';
					}
					if (jn3[3] == 1) {
						document.getElementById("sjjj").textContent += '高级能量，';
					}
					if (jn3[4] == 1) {
						document.getElementById("sjjj").textContent += '热血，';
					}
					if (jn3[5] == 1) {
						document.getElementById("sjjj").textContent += '空城，';
					}
					if (jn3[6] == 1) {
						document.getElementById("sjjj").textContent += '嗜己，';
					}
					if (jn3[7] == 1) {
						document.getElementById("sjjj").textContent += '白银狮子，';
					}
					if (jn3[8] == 1) {
						document.getElementById("sjjj").textContent += '反伤，';
					}
					if (jn3[9] == 1) {
						document.getElementById("sjjj").textContent += '能量刀，';
					}
				}
				document.getElementById("sjjj").textContent += '对方技能：';
				if (jn2[0] == 1) {
					document.getElementById("sjjj").textContent += '不选择技能';
				} else {
					if (jn2[1] == 1) {
						document.getElementById("sjjj").textContent += '快速炸弹，';
					}
					if (jn2[2] == 1) {
						document.getElementById("sjjj").textContent += '先天，';
					}
					if (jn2[3] == 1) {
						document.getElementById("sjjj").textContent += '高级能量，';
					}
					if (jn2[4] == 1) {
						document.getElementById("sjjj").textContent += '热血，';
					}
					if (jn2[5] == 1) {
						document.getElementById("sjjj").textContent += '空城，';
					}
					if (jn2[6] == 1) {
						document.getElementById("sjjj").textContent += '嗜己，';
					}
					if (jn2[7] == 1) {
						document.getElementById("sjjj").textContent += '白银狮子，';
					}
					if (jn2[8] == 1) {
						document.getElementById("sjjj").textContent += '反伤，';
					}
					if (jn2[9] == 1) {
						document.getElementById("sjjj").textContent += '能量刀，';
					}
				}
			}

			function j() {
				document.getElementById("sj").textContent = '你血' + a1 + ',敌血' + a2 + ',你能' + b1 + ',敌能' + b2;
				document.getElementById("sj1").textContent = '你的出招:' + f3 + ',对方出招:' + f2;
				//jnxs();
				//document.getElementById("sjj").textContent = '本次局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				
				timer.reset();
				timer.start();
			}
			function cklscz() {
				alert("你的出招：" + lscz1 + "‖对手出招：" + lscz2)
			}

			function ss() {
				var lsjlbg = [];
				sz();
				d1 = 0;
				e1 = 0;
				d2 = 0;
				e2 = 0;
				f2 = '';
				f3 = '';
				lscz1 = "";
				lscz2 = "";
				jn1 = 0;
				jn2 = new Array(10).fill(0);
				jn3 = new Array(10).fill(0);
				sxjs1 = true;
				sxjs2 = true;
				g();
				j();
				document.getElementById("result").textContent = '';
				timer.reset();
				setItem()
				cz++;
				cz1++;
				setItem()
				document.getElementById("sj").textContent = '你血' + a1 + ',敌血' + a2 + ',你能' + b1 + ',敌能' + b2;
				document.getElementById("sj1").textContent = '你的出招:' + f3 + ',对方出招:' + f2;
				//jnxs();
				//document.getElementById("sjj").textContent = '本次局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				timer.reset();
				t1.disabled = true;
				t2.disabled = true;
				t9.disabled = true;

				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				jj3.disabled = false;
				jj4.disabled = false;
				jj5.disabled = false;
				jj1.disabled = false;
				jj2.disabled = false;
				jj0.disabled = false;
				jj6.disabled = false;
				jj7.disabled = false;
				jj8.disabled = false;
				jj9.disabled = false;
				jj0.disabled = false;
				jj1.disabled = false;
				jj2.disabled = false;
				jj3.disabled = false;
				jj4.disabled = false;
				jj5.disabled = false;
				jj6.disabled = false;
				jj7.disabled = false;
				jj8.disabled = false;
				jj9.disabled = false;

			}

			function ssss(jn1) {
				jn3[jn1] = 1;
				jj3.disabled = true;
				jj4.disabled = true;
				jj5.disabled = true;
				jj1.disabled = true;
				jj2.disabled = true;
				jj0.disabled = true;
				jj6.disabled = true;
				jj7.disabled = true;
				jj8.disabled = true;
				jj9.disabled = true;
				if (jn3[0] === 1) {
					jn2[0] = 1;
				} else {
					jn2[Math.floor(Math.random() * 9) + 1] = 1;
				}
				s();
			}
			var tzjg=JSON.parse(localStorage.getItem('tzjg')) || [0,0,0];
			function sz(){
				if (tzms==1)
				{
					a1=1;
					a2=3;
					b1=0;
					b2=0;
					c1=1;
					c2=1;
					mqms="血量挑战";
				}
				if (tzms==2)
				{
					a1=1;
					a2=1;
					b1=0;
					b2=3;
					c1=0;
					c2=1;
					mqms="能量挑战";
				}
				if (tzms==3)
				{
					a1=1;
					a2=1;
					b1=0;
					b2=0;
					c1=0;
					c2=1;
					document.getElementById("h3").style.display = "none";
					document.getElementById("h4").style.display = "none";
					document.getElementById("h5").style.display = "none";
					document.getElementById("h6").style.display = "none";
					document.getElementById("h8").style.display = "none";
					document.getElementById("h9").style.display = "none";
					mqms="冷兵器挑战";
				}
				document.getElementById("ttzms").textContent=mqms;
			}
			function s() {
				d1 = 0;
				e1 = 0;
				d2 = 0;
				e2 = 0;
				f2 = '';
				f3 = '';
				lscz1 = "";
				lscz2 = "";
				jn1 = 0;
				sxjs1 = true;
				sxjs2 = true;
				sz();
				g();
				j();
				document.getElementById("result").textContent = '';
				timer.reset();
				timer.start();
			}

			function p(f1) {
				const choices = ['能量'];
				if (a2 > 0.5 && Math.random() > 0.4 && hd === true) {
					choices.push('损血回能');
					if (sxjs2) {
						choices.push('损血加伤');
					}
				}
				if (b1 >= 1 &&Math.random() > (0.5+0.2*(b2-b1))) {
					choices.push('防御');
					if (c2 >= 1 &&Math.random() > 0.7) {
						choices.push('反弹');
					}
				}
				if (b2 >= 1 &&Math.random() > 0.2) {
					choices.push('刀');
					choices.push('一发');
					if (ksms === false) {
						if (a2 < aa && (jn2[4] == 0 && jn2[6] == 0)) {
							choices.push('绷带');
						}
						if (b1 >= 2 && jn3[1] === 1 && Math.random() > 0.7) {
							choices.push('能量防');
						} else if (b1 >= 3) {
							choices.push('能量防');
						}

						if (b2 >= 2&&Math.random() > 0.1) {
							choices.push('二发');
							if (hd === true) {
								choices.push('黑洞');
								choices.push('剑');
							}
						}
						if (b2 >= 2 && jn2[1] === 1) {
							choices.push('炸弹');
						}
						if (b2 >= 3) {
							choices.push('炸弹');
							choices.push('三发');
						}
						if (b2 >= 4) {
							if (hd === true) {
								choices.push('四发');
							}
						}
						if (b2 >= 5) {
							if (hd === true) {
								choices.push('火炮');
							}
						}
					}
				f2 = choices[Math.floor(Math.random() * choices.length)];
				}
				if (tzms==3){
					choices1 = ['能量'];
					if(b1>=1&&c2>=1){
						choices1.push('反弹');
					}
					if(b2>=1){
						choices1.push('一发');
						choices1.push('刀');
					}
				f2 = choices1[Math.floor(Math.random() * choices1.length)];
				}



				if (f1 === '能量') {
					lscz1 += "能量，"
					d1 = 0;
					e1 = 0;
					b1 = b1 + 1;
					if (jn3[3] === 1) {
						b1 = b1 + 0.5;
					}
				} else if (f1 === '防御') {
					lscz1 += "防御，"
					d1 = 4;
					e1 = 0;
				} else if (f1 === '一发') {
					lscz1 += "一发，"
					d1 = 2;
					e1 = 1;
					b1 = b1 - 1;
				} else if (f1 === '二发') {
					lscz1 += "二发，"
					d1 = 2;
					e1 = 2;
					b1 = b1 - 2;
				} else if (f1 === '三发') {
					lscz1 += "三发，"
					d1 = 2;
					e1 = 3;
					b1 = b1 - 3;

				} else if (f1 === '炸弹') {
					lscz1 += "炸弹，"
					d1 = 3;
					e1 = 1;
					b1 = b1 - 3;
					if (jn3[1] === 1) {
						e1 = e1 + 0.5;
						b1++;
					}
				} else if (f1 === '刀') {
					lscz1 += "刀，"
					d1 = 1;
					e1 = 0.5;
					b1 = b1 - 1;
				} else if (f1 === '能量防') {
					lscz1 += "能量防，"
					d1 = 5;
					e1 = 0;
					b1 = b1 - 1;
				} else if (f1 === '反弹') {
					lscz1 += "反弹，"
					d1 = 6;
					e1 = 0;
					c1 = c1 - 1;
				} else if (f1 === '黑洞') {
					lscz1 += "黑洞，"
					d1 = 7;
					e1 = 0;
					b1 = b1 - 2;
				} else if (f1 === '四发') {
					lscz1 += "四发，"
					d1 = 2;
					e1 = 4;
					b1 = b1 - 4;
				} else if (f1 === '火炮') {
					lscz1 += "火炮，"
					d1 = 3;
					e1 = 2;
					b1 = b1 - 5;
				} else if (f1 === '绷带') {
					lscz1 += "绷带，"
					d1 = 8;
					e1 = 0;
					b1 = b1 - 1;
				} else if (f1 === '剑') {
					lscz1 += "剑，"
					d1 = 1;
					e1 = 1;
					b1 = b1 - 2;
				} else if (f1 === '损血回能') {
					lscz1 += "损血回能，"
					d1 = 0;
					a1 = a1 - 0.5;
					b1 = b1 + 2;
				} else if (f1 === '损血加伤') {
					lscz1 += "损血加伤，"
					d1 = 0;
					a1 = a1 - 0.5;
					sxjs1 = false;
				}

				if (f2 === '能量') {
					lscz2 += "能量，"
					d2 = 0;
					e2 = 0;
					b2 = b2 + 1;
					if (jn2[3] === 1) {
						b2 = b2 + 0.5;
					}
				} else if (f2 === '防御') {
					lscz2 += "防御，"
					d2 = 4;
					e2 = 0;
				} else if (f2 === '一发') {
					lscz2 += "一发，"
					d2 = 2;
					e2 = 1;
					b2 = b2 - 1;
				} else if (f2 === '二发') {
					lscz2 += "二发，"
					d2 = 2;
					e2 = 2;
					b2 = b2 - 2;
				} else if (f2 === '三发') {
					lscz2 += "三发，"
					d2 = 2;
					e2 = 3;
					b2 = b2 - 3;
				} else if (f2 === '炸弹') {
					lscz2 += "炸弹，"
					d2 = 3;
					e2 = 1;
					b2 = b2 - 3;
					if (jn2[1] === 1) {
						e2 = e2 + 0.5;
						b2++;
					}
				} else if (f2 === '刀') {
					lscz2 += "刀，"
					d2 = 1;
					e2 = 0.5;
					b2 = b2 - 1;
				} else if (f2 === '能量防') {
					lscz2 += "能量防，"
					d2 = 5;
					e2 = 0;
					b2 = b2 - 1;
				} else if (f2 === '反弹') {
					lscz2 += "反弹，"
					d2 = 6;
					e2 = 0;
					c2 = c2 - 1;
				} else if (f2 === '黑洞') {
					lscz2 += "黑洞，"
					d2 = 7;
					e2 = 0;
					b2 = b2 - 2;
				} else if (f2 === '四发') {
					lscz2 += "四发，"
					d2 = 2;
					e2 = 4;
					b2 = b2 - 4;
				} else if (f2 === '火炮') {
					lscz2 += "火炮，"
					d2 = 3;
					e2 = 2;
					b2 = b2 - 5;
				} else if (f2 === '绷带') {
					lscz2 += "绷带，"
					d2 = 8;
					e2 = 0;
					b2 = b2 - 1;
				} else if (f2 === '剑') {
					lscz2 += "剑，"
					d2 = 1;
					e2 = 1;
					b2 = b2 - 2;
				} else if (f2 === '损血回能') {
					lscz2 += "损血回能，"
					d2 = 0;
					a2 = a2 - 0.5;
					b2 = b2 + 2;
				} else if (f2 === '损血加伤') {
					lscz2 += "损血加伤，"
					d2 = 0;
					a2 = a2 - 0.5;
					sxjs2 = false;
				}

				f3 = f1;
				if (jn3 [6]=== 1) {
					e1 = e1 * 2;
				}
				if (jn2[6] === 1) {
					e2 = e2 * 2;
				}
				aa1 = a1;
				aa2 = a2;
				if ((d1 === 2 || d1 === 3) && jn2[9] === 1 && d2 === 1) { 
					e1=e1-e2;
					e2=0;
				} 
				if ((d2 === 2 || d2 === 3) && jn3[9] === 1 && d1 === 1) {
					e2=e2-e1;
					e1=0;
				}
				if ((d1 === 0||d1===8) && !(d2 === 1 && jn3[5] === 1)) {
					a1 = a1 - e2;
				} else if (d1 === 1) {
					if ((d2 === 0 || d2 === 4 || d2 === 5 || d2 === 7 || d2 === 8) && jn2[5] == 0) {
						a2 = a2 - e1;
					} else if (d2 === 2 || d2 === 3) {
						a1 = a1 - e2;
					} else if (d2 === 1) {
						if (e1 > e2 && jn2[5] == 0) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2 && jn3[5] == 0) {
							a1 = a1 - e2 + e1;
						}
					}else if (d2===6 &&jn3 [9]===1){ 
					a2=a2-e1;
					}
				} else if (d1 === 2) {
					if (d2 === 0 || d2 === 1 || d2 === 8) {
						a2 = a2 - e1;
					} else if (d2 === 2) {
						if (e1 > e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 3) {
						if (e1 > e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 <= e2) {
							a1 = a1 - e2;
						}
					} else if (d2 === 5 && e1 >= 2) {
						a2 = a2 - e1 + 2;
					} else if (d2 === 6) {
						a1 = a1 - e1;
					}
				}
				if (d1 === 3) {
					if (d2 === 0 || d2 === 4 || d2 === 1 || d2 === 8) {
						a2 = a2 - e1;
					} else if (d2 === 2) {
						if (e1 >= e2) {
							a2 = a2 - e1;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 3) {
						if (e1 > e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 6) {
						a1 = a1 - e1;
					}
				} else if (d1 === 4) {
					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					} else if (d2 === 3) {
						a1 = a1 - e2;
					}
				} else if (d1 === 5) {

					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					} else if (e2 >= 2) {
						a1 = a1 - e2 + 2;
					}
				} else if (d1 === 6) {
					if (d2 === 2 || d2 === 3){
						a2 = a2 - e2;
					}
if(d2===1&&jn2[9]===1){
a1=a1-e2;
}
				}
				if (d1 === 7) {
					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					}
					if (f2 === '能量') {
						b1 = b1 + 1;
						b2 = b2 - 1
						if (jn2[3] === 1) {
							b1 = b1 + 0.5;
							b2 = b2 - 0.5;
						}
					}
					if (f2 === '损血回能') {
						b1 = b1 + 2;
						b2 = b2 - 2;
					}
					if (f2 === '一发') {
						b1 = b1 + 1;
					}
					if (f2 === '二发') {
						b1 = b1 + 2;
					}
					if (f2 === '三发') {
						b1 = b1 + 3;
					}
					if (f2 === '四发') {
						b1 = b1 + 4;
					}
					if (f2 === '火炮') {
						b1 = b1 + 5;
					}
					if (f2 === '绷带') {
						b1 = b1 + 1;
					}
					if (f2 === '炸弹') {
						b1 = b1 + 3;
						if (jn2[1] === 1) {
							b1 = b1 - 1;
						}
					}
					if (f2 === '能量防') {
						b1 = b1 + 1;
					}
					if (f2 === '反弹') {
						c1 = c1 + 1;
					}
				}
				if (d2 === 7) {
					if (d1 != 1) {
						a2 = a2 + e1;
					}
					if (f1 === '能量') {
						b2 = b2 + 1;
						b1 = b1 - 1;
						if (jn3[1] === 1) {
							b2 = b2 + 0.5;
							b1 = b1 - 0.5;
						}
					}
					if (f1 === '损血回能') {
						b2 = b2 + 2;
						b1 = b1 - 2;
					}
					if (f1 === '一发') {
						b2 = b2 + 1;
					}
					if (f1 === '二发') {
						b2 = b2 + 2;
					}
					if (f1 === '三发') {
						b2 = b2 + 3;
					}
					if (f1 === '四发') {
						b2 = b2 + 4;
					}
					if (f1 === '火炮') {
						b2 = b2 + 5;
					}
					if (f1 === '绷带') {
						b2 = b2 + 1;
					}
					if (f1 === '炸弹') {
						b2 = b2 + 3;
						if (jn3[1] === 1) {
							b2 = b2 - 1;
						}
					}
					if (f1 === '能量防') {
						b2 = b2 + 1;
					}
					if (f1 === '反弹') {
						c2 = c2 + 1;
					}
				}
				if (a1 != aa1 && !sxjs2) {
					a1 = a1 - 1;
					sxjs2 = true;
				}
				if (a2 != aa2 && !sxjs1) {
					a2 = a2 - 1;
					sxjs1 = true;
				}
      

				if (jn3[7] === 1 && aa1 - a1 > aa / 2) {
					a1 = aa1 - aa / 2
				}
				if (jn2[7] === 1 && aa2 - a2 > aa / 2) {
					a2 = aa2 - aa / 2
				}
				if (jn3[8] === 1 && a1 != aa1 - e2) {
					a2 = a2 - (e2 - aa1 + a1) / 2;
				}
				if (jn3[8] === 1 && a2 != aa2 - e1) {
					a1 = a1 - (e1 - aa2 + a2) / 2;
				}
				if (d1 === 8 && a1 === aa1 && d2 != 7) {
					a1 = a1 + 1;
					if (a1 > aa) {
						a1 = aa;
					}
				}
				if (d2 === 8 && a2 === aa2 && d1 != 7) {
					a2 = a2 + 1;
					if (a2 > aa) {
						a2 = aa;
					}
				}
				g();
				j();
				if (a1 <= 0) {

					zong++;
					zong1++;
					document.getElementById('result').textContent = '你输了';
let yxjg={模式:mqms,结果:'负',时间:new Date().toLocaleString()};
lsjlbg.push(yxjg);
lsjlbg1.push(yxjg);
					jz();
				} else if (a2 <= 0) {

					zong++;
					ying++;
					zong1++;
					ying1++;
					tzjg[tzms-1]=1;
					localStorage.setItem('tzjg', JSON.stringify(tzjg));
					document.getElementById('result').textContent = '你赢了';
let yxjg={模式:mqms,结果:'胜',时间:new Date().toLocaleString()};
lsjlbg.push(yxjg);
lsjlbg1.push(yxjg);
					jz();
				}
			}
			window.onload = ss;
		</script>

	</body>
</html>
