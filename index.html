<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>代号一</title>
		<style>
		#yx, #zy, #yxgz,#lsjl{
        background: rgba(255,255,255,0.9);
        border-radius: 10px;
        padding: 20px;
        margin: 15px 0;
        border: 1px solid #eee;
		}
		#yxgz {
        background: #fff;
        border-left: 5px solid #3498db;
		}

		#yxgz p {
        line-height: 1.6;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
		}
		body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }

        #result {
            margin-top: 20px;
            font-size: 20px;
            color: #3498db;
        }
		#shijian {
            margin-top: 20px;
            font-size: 20px;
            color: #3498db;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
		.bu {
            padding: 5px 10px;
            font-size: 8px;
            cursor: pointer;
        }
		h4{
		margin-top:0px;
		margin-bottom:0px;
		}
		.login-btn {
            background: linear-gradient(45deg, #00a3ff, #0066ff);
            color: white;
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: opacity 0.3s;
        }
    </style>
	</head>
	<body>

		<h1>☠️代号一☠️</h1>
		<div id='content'>
			<div id='yx'>
				<p id='msms'></p>
				<p>请选择：</p>
				<h4>经济招式</h4>
				<button onclick="p('能量')" id="h1">能量</button>
				<button onclick="p('黑洞')" id="h10" style="display: inline-block;">黑洞</button>
				<button onclick="p('绷带')" style="display: inline-block;" id="h13">绷带</button>
				<button onclick="p('损血回能')" id="h15" style="display: inline-block;">损血回能</button>
				<button onclick="p('损血加伤')" id="h16" style="display: inline-block;">损血加伤</button>
				<br>
				<h4>防御招式</h4>
				<button onclick="p('防御')" id="h2">防御</button>
				<button onclick="p('能量防')" style="display: inline-block;" id="h8">能量防</button>
				<button onclick="p('反弹')" id="h9">反弹</button>
				<br>
				<h4>伤害招式</h4>
				<button onclick="p('一发')" id="h3">一发</button>
				<button onclick="p('二发')" style="display: inline-block;" id="h4">二发</button>
				<button onclick="p('三发')" style="display: inline-block;" id="h5">三发</button>
				<button onclick="p('四发')" id="h11" style="display: inline-block;">四发</button>

				<button onclick="p('炸弹')" style="display: inline-block;" id="h6">炸弹</button>
				<button onclick="p('火炮')" id="h12" style="display: inline-block;">火炮</button>

				<button onclick="p('刀')" id="h7">刀</button>
				<button onclick="p('剑')" id="h14" style="display: inline-block;">剑</button>


				<div id="timer">倒计时: <span id="shijian">0.00</span> 秒</div>
				<p id="sj"></p>
				<p id="sj1"></p>
				<p id="sjjj"></p>
				<p id="result"></p>
				<div id='cklscz1'>
					<button onclick="cklscz()" id="cklscz">查看历史出招</button>
				</div>
				<p>请选择技能：</p>
				<button onclick="ssss(0)" id="j0">不选择技能</button>
				<p></p>
				<div id='jnjn'>
					<button onclick="ssss(1)" id="j1">快速炸弹</button>
					<button onclick="ssss(2)" id="j2">先天</button>
					<button onclick="ssss(3)" id="j3">高级能量</button>
					<button onclick="ssss(4)" id="j4">热血</button>
					<button onclick="ssss(5)" id="j5">空城</button>
					<button onclick="ssss(6)" id="j6">嗜己</button>
					<button onclick="ssss(7)" id="j7">白银狮子</button>
					<button onclick="ssss(8)" id="j8">反伤</button>
					<button onclick="ssss(9)" id="j9">能量刀</button>
				</div>
				<p></p>
				<button onclick="ss()">重置</button>

				<p id="sjj"></p>
				<button onclick="zy()" class="login-btn">返回主页</button>
			</div>
			<div id='zy'>
				<p style="display: inline-block; width: 150px;">更改模式</p><br><button onclick="ew()" class="bu" id='ms1'>额外模式</button><button
				 onclick="pt()" class="bu" id='ms2'>普通模式</button><button onclick="ksu()" class="bu" id='ms3'>快速模式</button>
<br>
				<p style="display: inline-block; width: 150px;">是否开启隐藏数据</p><button onclick="yck()" class="bu" id='yc1'>是</button><button
				 onclick="ycg()" class="bu" id='yc2'>否</button>
<br>
				<input type="number" id="set" placeholder="设定血量">
				<button onclick="check()">确认</button>
				<input type="number" id="set1" placeholder="设定时间">
				<button onclick="chec()">确认</button>
				<p id='jcsj'></p>
				<button onclick="lsjl()">查看历史记录</button>
<p></p>
				<button onclick="gz()">查看规则</button>
				<p></p>
				<button onclick="yx()" class="login-btn">开始游戏</button>
			</div>

	</div>


<div id="lsjl">
				<p id="sjjjj" style="display: inline-block; width: 200px;"></p><button onclick="removeItem()" class="bu">清除</button>

<div id="tableContainer"></div>
<p></p>
<button onclick="fh()" class="login-btn">返回</button>
</div>


		<div id='yxgz'>
			<p style='text-align: left;font-size: 30px;'>招式</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>能量:</span>获得一点能量。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>防御:</span>抵消所有枪类伤害。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>一发:</span>造成1点枪类伤害。用1点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>二发:</span>造成2点枪类伤害。用2点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>三发:</span>造成3点枪类伤害。用3点能量。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>炸弹:</span>造成1点爆炸伤害。用3点能量。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>能量防:</span>抵消伤害总量小于等于2的枪类伤害和爆炸伤害。用1点能量。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>反弹:</span>反弹枪类伤害与爆炸伤害，抵消刀类伤害。每局每人只能用一次。 </p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>刀:</span>造成0.5点刀类伤害。用1点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>绷带:</span>回复已损失的1点生命，若无损失或本回合受伤，无效。用1点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>黑洞:</span>获得对方本轮得到或使用的能量并抵消伤害（刀除外）。若对方使用反弹，则反弹次数加一。用2点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>四发:</span>造成4点枪类伤害。用4点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>火炮:</span>造成2点爆炸伤害。用5点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>剑:</span>造成1点刀类伤害。用2点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>损血回能:</span>失去0.5血，获得2点能量。</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>损血加伤:</span>失去0.5血，下次造成伤害时伤害加1点。</p>
			<p style='text-align: left;font-size: 30px;'>技能</p>
			<p style='text-align: left;'><span style='font-size: 20px' ;>快速炸弹:</span>炸弹只消耗两点能量，并且伤害加0.5
				<p style='text-align: left;'><span style='font-size: 20px' ;>先天:</span>开局一点能量</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>高级能量:</span>你使用一次能量招式获得1.5个能量</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>热血:</span>1.5倍基础血量，但你不能使用绷带</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>空城:</span>免疫刀类伤害。</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>嗜己:</span>你的伤害翻倍，血量减半，无法使用绷带。</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>白银狮子:</span>你每回合最多受到一半基础血量的伤害。</p>
				<p style='text-align: left;'><span style='font-size: 20px' ;>反伤:</span>当对方伤害被抵消时，反伤50%伤害。</p>
      <p style='text-align: left;'><span style='font-size: 20px' ;>能量刀:</span>刀类伤害穿透反弹且你的刀类伤害可以抵消伤害。</p>
				<button onclick="fh()" class="login-btn">返回</button>
		</div>
<button style="padding: 0px 0px;font-size: 4px;" onclick="hsdwx()">查看作者</button>
		<script>
function hsdwx(){
window.open("https://space.bilibili.com/500196629")
}

			document.getElementById("h10").style.display = "none";
			document.getElementById("h11").style.display = "none";
			document.getElementById("h12").style.display = "none";
			document.getElementById("h14").style.display = "none";
			document.getElementById("h15").style.display = "none";
			document.getElementById("h16").style.display = "none";
			document.getElementById("yxgz").style.display = "none";
			document.getElementById("content").style.display = "block";
			document.getElementById("yx").style.display = "none";
document.getElementById("lsjl").style.display = "none";
			function yx() {
				document.getElementById("yx").style.display = "block";
				document.getElementById("zy").style.display = "none";

				cz--;
				cz1--;
				ss();
			}

			function zy() {
				document.getElementById("zy").style.display = "block";
				document.getElementById("yx").style.display = "none";
			}

			function gz() {
				document.getElementById("content").style.display = "none";
				document.getElementById("yxgz").style.display = "block";
document.getElementById("lsjl").style.display = "none";
			}

			function fh() {
				document.getElementById("yxgz").style.display = "none";
				document.getElementById("content").style.display = "block";
document.getElementById("lsjl").style.display = "none";
			}
function lsjl() {
				document.getElementById("yxgz").style.display = "none";
				document.getElementById("content").style.display = "none";
document.getElementById("lsjl").style.display = "block";
cjbg();
			}
function cjbg() {
    const container = document.getElementById("tableContainer");
    container.innerHTML = ""; // 清空旧内容

    if (lsjlbg1.length === 0) {
        container.innerHTML = "<p>暂无历史记录</p>";
        return;
    }

    const table = document.createElement("table");
    table.border = "1";
    table.style.width = "100%";

    // 创建表头
    const thead = table.createTHead();
    const headerRow = thead.insertRow();
    ["模式", "结果", "时间"].forEach(headerText => {
        const th = document.createElement("th");
        th.textContent = headerText;
        headerRow.appendChild(th);
    });

    // 填充数据
    const tbody = table.createTBody();
    lsjlbg1.forEach(item => {
        const row = tbody.insertRow();
        [item.模式, item.结果, item.时间].forEach(value => {
            const cell = row.insertCell();
            cell.textContent = value;
        });
    });

    container.appendChild(table);
}
			var t1 = document.getElementById('h1');
			var t2 = document.getElementById('h2');
			var t3 = document.getElementById('h3');
			var t4 = document.getElementById('h4');
			var t5 = document.getElementById('h5');
			var t6 = document.getElementById('h6');
			var t7 = document.getElementById('h7');
			var t8 = document.getElementById('h8');
			var t9 = document.getElementById('h9');
			var t10 = document.getElementById('h10');
			var t11 = document.getElementById('h11');
			var t12 = document.getElementById('h12');
			var t13 = document.getElementById('h13');
			var t14 = document.getElementById('h14');
			var t15 = document.getElementById('h15');
			var t16 = document.getElementById('h16');
			var jj0 = document.getElementById('j0');
			var jj1 = document.getElementById('j1');
			var jj2 = document.getElementById('j2');
			var jj3 = document.getElementById('j3');
			var jj4 = document.getElementById('j4');
			var jj5 = document.getElementById('j5');
			var jj6 = document.getElementById('j6');
			var jj7 = document.getElementById('j7');
			var jj8 = document.getElementById('j8');
			var jj9 = document.getElementById('j9');
			var bb1 = document.getElementById('ms1');
			var bb2 = document.getElementById('ms2');
			var bb5 = document.getElementById('ms3');
			var bb3 = document.getElementById('yc1');
			var bb4 = document.getElementById('yc2');
			//var cklscz=document.getElementById('cklscz');
			bb1.disabled = false;
			bb2.disabled = true;
			bb5.disabled = false;
			bb3.disabled = false;
			bb4.disabled = true;
			//cklscz.disabled=false;
			document.getElementById("cklscz1").style.display = "block";

			function ew() {
				hd = true;
				ksms = false;
				document.getElementById("h4").style.display = "inline-block";
				document.getElementById("h5").style.display = "inline-block";
				document.getElementById("h6").style.display = "inline-block";
				document.getElementById("h8").style.display = "inline-block";
				document.getElementById("h10").style.display = "inline-block";
				document.getElementById("h11").style.display = "inline-block";
				document.getElementById("h12").style.display = "inline-block";
				document.getElementById("h13").style.display = "inline-block";
				document.getElementById("h14").style.display = "inline-block";
				document.getElementById("h15").style.display = "inline-block";
				document.getElementById("h16").style.display = "inline-block";
				document.getElementById("jnjn").style.display = "block";
				document.getElementById("msms").textContent = '目前模式：额外模式';
				bb1.disabled = true;
				bb2.disabled = false;
				bb5.disabled = false;
mqms="额外模式";
			}

			function pt() {
				hd = false;
				ksms = false;
				document.getElementById("h4").style.display = "inline-block";
				document.getElementById("h5").style.display = "inline-block";
				document.getElementById("h6").style.display = "inline-block";
				document.getElementById("h8").style.display = "inline-block";
				document.getElementById("h13").style.display = "inline-block";
				document.getElementById("h10").style.display = "none";
				document.getElementById("h11").style.display = "none";
				document.getElementById("h12").style.display = "none";
				document.getElementById("h14").style.display = "none";
				document.getElementById("h15").style.display = "none";
				document.getElementById("h16").style.display = "none";
				document.getElementById("jnjn").style.display = "block";
				bb1.disabled = false;
				bb2.disabled = true;
				bb5.disabled = false;
				document.getElementById("msms").textContent = '目前模式：普通模式';
mqsm="普通模式";
			}

			function ksu() {
				hd = false;
				ksms = true;
				document.getElementById("h4").style.display = "none";
				document.getElementById("h5").style.display = "none";
				document.getElementById("h6").style.display = "none";
				document.getElementById("h8").style.display = "none";
				document.getElementById("h13").style.display = "none";
				document.getElementById("h10").style.display = "none";
				document.getElementById("h11").style.display = "none";
				document.getElementById("h12").style.display = "none";
				document.getElementById("h14").style.display = "none";
				document.getElementById("h15").style.display = "none";
				document.getElementById("h16").style.display = "none";
				document.getElementById("jnjn").style.display = "none";
				document.getElementById("msms").textContent = '目前模式：快速模式';
				bb1.disabled = false;
				bb2.disabled = false;
				bb5.disabled = true;
mqms="快速模式";
			}

			function yck() {
				document.getElementById("sj").style.display = "none";
				bb3.disabled = true;
				bb4.disabled = false;
				lscz = false;

			}

			function ycg() {
				document.getElementById("sj").style.display = "inline-block";
				bb3.disabled = false;
				bb4.disabled = true;
				lscz = true;

			}
			var a1 = 1;
			var aa1 = 0;
			var b1 = 0;
			var c1 = 1;
			var d1 = 0;
			var e1 = 0;
			var a2 = 1;
			var aa2 = 0;
			var b2 = 0;
			var c2 = 1;
			var d2 = 0;
			var e2 = 0;
			var f1 = '';
			var f2 = '';
			var f3 = '';
			var hd = false;
			var ksms = false;
			var lscz = true;
			var zong = 0;
			var ying = 0;
			var zong1 = Number(localStorage.getItem('zong1'));
			var ying1 = Number(localStorage.getItem('ying1'));
			var cz1 = Number(localStorage.getItem('cz1')) - 1;
			var cz = -1;
			var aa = 1;
			var szsj = 10000;
			var jn1 = 0;
			var jn2 = new Array(10).fill(0);
			var jn3 = new Array(10).fill(0);
			var lscz1 = "";
			var lscz2 = "";
			var sxjs1 = true;
			var sxjs2 = true;
			var lscz = true; // ✅ 确保初始值为 true
     var mqms="普通模式";
		  var lsjlbg=[];
var lsjlbg1=JSON.parse(localStorage.getItem('lsjlbg1')) || [];
	document.getElementById("msms").textContent = '目前模式：普通模式';


			function millisecondsToSeconds(milliseconds) {
				return milliseconds / 1000;
			}

			function setItem() {
				localStorage.setItem('zong1', String(zong1));
				localStorage.setItem('ying1', String(ying1));
				localStorage.setItem('cz1', String(cz1));
localStorage.setItem('lsjlbg1', JSON.stringify(lsjlbg1));
			}

			function removeItem() {
				localStorage.removeItem('zong1');
				localStorage.removeItem('ying1');
				localStorage.removeItem('cz1');
localStorage.removeItem('lsjlbg1');
				zong1 = zong;
				ying1 = ying;
				cz1 = cz;
lsjlbg1=lsjlbg;
				document.getElementById("sjjjj").textContent = '总局数' + zong1 + '你赢了' + ying1 + '局重置' + cz1 + '次';
cjbg();
			}

			function jcsj() {
				document.getElementById("jcsj").textContent = '基础血量' + aa + '，基础时间' + szsj / 1000 + '秒';
			}
			jcsj();

			function ks() {
				var totalMilliseconds = szsj;
				var remainingMilliseconds = totalMilliseconds;
				var display = document.querySelector("#timer span");
				var timerId = null; // 用于存储定时器ID

				function updateTimer() {
					if (remainingMilliseconds > 0) {
						remainingMilliseconds -= 10; // 每次更新减少10毫秒（注意这里为了简化直接减少了10毫秒）
						display.textContent = (remainingMilliseconds / 1000).toFixed(2); // 转换为秒并保留两位小数
						timerId = setTimeout(updateTimer, 10); // 重新设置定时器
					} else {
						display.textContent = "0.00"; // 倒计时结束
						// 可以在这里添加其他倒计时结束后的逻辑
						// ...
						document.getElementById('result').textContent = '你输了';
						jz();
					}
				}

				return {
					start: function() {
						if (timerId !== null) {
							clearTimeout(timerId); // 如果定时器已经启动，先停止它
						}
						remainingMilliseconds = totalMilliseconds; // 重置剩余时间
						display.textContent = (totalMilliseconds / 1000).toFixed(2); // 重置显示
						timerId = setTimeout(updateTimer, 10); // 开始新的倒计时
					},
					reset: function() {
						if (timerId !== null) {
							clearTimeout(timerId); // 停止定时器
							totalMilliseconds = szsj;
							remainingMilliseconds = totalMilliseconds;
							timerId = null; // 可选：将定时器ID重置为null，表示没有定时器在运行
						}
						// 注意：reset方法本身不重置剩余时间或重新开始计时器，它只是停止它
						// 如果你想要在reset后立即开始一个新的计时器，你应该在调用reset之后立即调用start
					}
				};
			}

			// 使用
			var timer = ks();



			// 假设我们有一个倒计时，从3000毫秒（即3秒）开始

			function g() {
				t1.disabled = false;
				t2.disabled = false;
				t9.disabled = false;
				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				if (a1 > 0.5) {
					t15.disabled = false;
					if (sxjs1) {
						t16.disabled = false;
					}
				}
				if (b1 >= 1) {
					t3.disabled = false;
					t8.disabled = false;
					t7.disabled = false;
					if (a1 < aa && (jn3[4] == 0 && jn3[6] == 0)) {
						t13.disabled = false;
					}
				}
				if (b1 >= 2) {
					t10.disabled = false;
					t4.disabled = false;
					t14.disabled = false;
					if (jn3[1] === 1) {
						t6.disabled = false;
					}
				}
				if (b1 >= 3) {
					t5.disabled = false;
					t6.disabled = false;
				}
				if (b1 >= 4) {
					t11.disabled = false;
				}
				if (b1 >= 5) {
					t12.disabled = false;
				}
				if (c1 >= 1) {
					t9.disabled = false;
				} else if (c1 <= 0) {
					t9.disabled = true;
				}
			}

			function jz() {
				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t1.disabled = true;
				t2.disabled = true;
				t9.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				timer.reset();
				timer.reset();
				document.getElementById("sjj").textContent = '总局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				document.getElementById("sjjjj").textContent = '总局数' + zong1 + '你赢了' + ying1 + '局重置' + cz1 + '次';
				//cklscz.disabled=false;
				document.getElementById("cklscz1").style.display = "block";
				setItem();
			}

			function jnxs() {
				document.getElementById("sjjj").textContent = '你的技能：';
				if (jn3[0] == 1) {
					document.getElementById("sjjj").textContent += '不选择技能，';
				} else {
					if (jn3[1] == 1) {
						document.getElementById("sjjj").textContent += '快速炸弹，';
					}
					if (jn3[2] == 1) {
						document.getElementById("sjjj").textContent += '先天，';
					}
					if (jn3[3] == 1) {
						document.getElementById("sjjj").textContent += '高级能量，';
					}
					if (jn3[4] == 1) {
						document.getElementById("sjjj").textContent += '热血，';
					}
					if (jn3[5] == 1) {
						document.getElementById("sjjj").textContent += '空城，';
					}
					if (jn3[6] == 1) {
						document.getElementById("sjjj").textContent += '嗜己，';
					}
					if (jn3[7] == 1) {
						document.getElementById("sjjj").textContent += '白银狮子，';
					}
					if (jn3[8] == 1) {
						document.getElementById("sjjj").textContent += '反伤，';
					}
if (jn3[9] == 1) {
						document.getElementById("sjjj").textContent += '能量刀，';
					}
				}
				document.getElementById("sjjj").textContent += '对方技能：';
				if (jn2[0] == 1) {
					document.getElementById("sjjj").textContent += '不选择技能';
				} else {
					if (jn2[1] == 1) {
						document.getElementById("sjjj").textContent += '快速炸弹，';
					}
					if (jn2[2] == 1) {
						document.getElementById("sjjj").textContent += '先天，';
					}
					if (jn2[3] == 1) {
						document.getElementById("sjjj").textContent += '高级能量，';
					}
					if (jn2[4] == 1) {
						document.getElementById("sjjj").textContent += '热血，';
					}
					if (jn2[5] == 1) {
						document.getElementById("sjjj").textContent += '空城，';
					}
					if (jn2[6] == 1) {
						document.getElementById("sjjj").textContent += '嗜己，';
					}
					if (jn2[7] == 1) {
						document.getElementById("sjjj").textContent += '白银狮子，';
					}
					if (jn2[8] == 1) {
						document.getElementById("sjjj").textContent += '反伤，';
					}
if (jn2[9] == 1) {
						document.getElementById("sjjj").textContent += '能量刀，';
					}
				}
			}

			function j() {
				document.getElementById("sj").textContent = '你血' + a1 + ',敌血' + a2 + ',你能' + b1 + ',敌能' + b2;
				document.getElementById("sj1").textContent = '你的出招:' + f3 + ',对方出招:' + f2;
				jnxs();
				document.getElementById("sjj").textContent = '总局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				document.getElementById("sjjjj").textContent = '总局数' + zong1 + '你赢了' + ying1 + '局重置' + cz1 + '次';
				timer.reset();
				timer.start();
			}

			function check() {
				aa = parseFloat(document.getElementById('set').value);
				if (isNaN(aa) || aa <= 0) {
					aa = 1;
					alert("错误，请填写大于0的数字")
				}

				document.getElementById('set').value = '';
				jcsj();
			}

			function chec() {
				var sss = parseFloat(document.getElementById('set1').value);
				if (isNaN(sss)) {
					sss = 10;
				}
				szsj = sss * 1000;
				if (szsj <= 0) {
					szsj = 10000;
					alert("错误，请填写大于0的数字")
				}

				document.getElementById('set1').value = '';
				jcsj();
			}

			function cklscz() {
				alert("你的出招：" + lscz1 + "‖对手出招：" + lscz2)
			}

			function ss() {
				a1 = aa;
				b1 = 0;
				c1 = 1;
				d1 = 0;
				e1 = 0;
				a2 = aa;
				b2 = 0;
				c2 = 1;
				d2 = 0;
				e2 = 0;
				f2 = '';
				f3 = '';
				lscz1 = "";
				lscz2 = "";
				jn1 = 0;
				jn2 = new Array(10).fill(0);
				jn3 = new Array(10).fill(0);
				sxjs1 = true;
				sxjs2 = true;
				g();
				j();
				document.getElementById("result").textContent = '';
				timer.reset();
				setItem()
				cz++;
				cz1++;
				setItem()
				document.getElementById("sj").textContent = '你血' + a1 + ',敌血' + a2 + ',你能' + b1 + ',敌能' + b2;
				document.getElementById("sj1").textContent = '你的出招:' + f3 + ',对方出招:' + f2;
				jnxs();
				document.getElementById("sjj").textContent = '总局数' + zong + '你赢了' + ying + '局重置' + cz + '次';
				document.getElementById("sjjjj").textContent = '总局数' + zong1 + '你赢了' + ying1 + '局重置' + cz1 + '次';
				timer.reset();
				t1.disabled = true;
				t2.disabled = true;
				t9.disabled = true;

				t3.disabled = true;
				t4.disabled = true;
				t5.disabled = true;
				t6.disabled = true;
				t7.disabled = true;
				t8.disabled = true;
				t10.disabled = true;
				t11.disabled = true;
				t12.disabled = true;
				t13.disabled = true;
				t14.disabled = true;
				t15.disabled = true;
				t16.disabled = true;
				jj3.disabled = false;
				jj4.disabled = false;
				jj5.disabled = false;
				jj1.disabled = false;
				jj2.disabled = false;
				jj0.disabled = false;
				jj6.disabled = false;
				jj7.disabled = false;
				jj8.disabled = false;
jj9.disabled = false;
				if (!lscz) {
					//cklscz.disabled=true;
					document.getElementById("cklscz1").style.display = "none";
				} else {
					//cklscz.disabled=false;
					document.getElementById("cklscz1").style.display = "block";
				}
				if (ksms) {
					ssss(0);
				}
			}

			function ssss(jn1) {
				jn3[jn1] = 1;
				jj3.disabled = true;
				jj4.disabled = true;
				jj5.disabled = true;
				jj1.disabled = true;
				jj2.disabled = true;
				jj0.disabled = true;
				jj6.disabled = true;
				jj7.disabled = true;
				jj8.disabled = true;
jj9.disabled = true;
				if (jn3[0] === 1) {
					jn2[0] = 1;
				} else {
					jn2[Math.floor(Math.random() * 9) + 1] = 1;
				}
				s();
			}

			function s() {

				a1 = aa;
				b1 = 0;
				c1 = 1;
				d1 = 0;
				e1 = 0;
				a2 = aa;
				b2 = 0;
				c2 = 1;
				d2 = 0;
				e2 = 0;
				f2 = '';
				f3 = '';
				lscz1 = "";
				lscz2 = "";
				jn1 = 0;
				sxjs1 = true;
				sxjs2 = true;
				if (jn3[2] === 1) {
					b1 = 1;
				}
				if (jn2[2] === 1) {
					b2 = 1;
				}
				if (jn3[4] === 1) {
					a1 = 1.5 * aa;
				}
				if (jn2[4] === 1) {
					a2 = 1.5 * aa;
				}
				if (jn3[6] === 1) {
					a1 = aa / 2;
				}
				if (jn2[6] === 1) {
					a2 = aa / 2;
				}
				g();
				j();
				document.getElementById("result").textContent = '';
				timer.reset();
				timer.start();
			}

			function p(f1) {
				const choices = ['能量'];
				if (a2 > 0.5 && Math.random() > 0.4 && hd === true) {
					choices.push('损血回能');
					if (sxjs2) {
						choices.push('损血加伤');
					}
				}
				if (b1 >= 1 &&Math.random() > (0.5+0.2*(b2-b1))) {
					choices.push('防御');
					if (c2 >= 1 &&Math.random() > 0.7) {
						choices.push('反弹');
					}
				}
				if (b2 >= 1 &&Math.random() > 0.2) {
					choices.push('刀');
					choices.push('一发');
					if (ksms === false) {
						if (a2 < aa && (jn2[4] == 0 && jn2[6] == 0)) {
							choices.push('绷带');
						}
						if (b1 >= 2 && jn3[1] === 1 && Math.random() > 0.7) {
							choices.push('能量防');
						} else if (b1 >= 3) {
							choices.push('能量防');
						}

						if (b2 >= 2&&Math.random() > 0.1) {
							choices.push('二发');
							if (hd === true) {
								choices.push('黑洞');
								choices.push('剑');
							}
						}
						if (b2 >= 2 && jn2[1] === 1) {
							choices.push('炸弹');
						}
						if (b2 >= 3) {
							choices.push('炸弹');
							choices.push('三发');
						}
						if (b2 >= 4) {
							if (hd === true) {
								choices.push('四发');
							}
						}
						if (b2 >= 5) {
							if (hd === true) {
								choices.push('火炮');
							}
						}
					}
				}
				f2 = choices[Math.floor(Math.random() * choices.length)];


				if (f1 === '能量') {
					lscz1 += "能量，"
					d1 = 0;
					e1 = 0;
					b1 = b1 + 1;
					if (jn3[3] === 1) {
						b1 = b1 + 0.5;
					}
				} else if (f1 === '防御') {
					lscz1 += "防御，"
					d1 = 4;
					e1 = 0;
				} else if (f1 === '一发') {
					lscz1 += "一发，"
					d1 = 2;
					e1 = 1;
					b1 = b1 - 1;
				} else if (f1 === '二发') {
					lscz1 += "二发，"
					d1 = 2;
					e1 = 2;
					b1 = b1 - 2;
				} else if (f1 === '三发') {
					lscz1 += "三发，"
					d1 = 2;
					e1 = 3;
					b1 = b1 - 3;

				} else if (f1 === '炸弹') {
					lscz1 += "炸弹，"
					d1 = 3;
					e1 = 1;
					b1 = b1 - 3;
					if (jn3[1] === 1) {
						e1 = e1 + 0.5;
						b1++;
					}
				} else if (f1 === '刀') {
					lscz1 += "刀，"
					d1 = 1;
					e1 = 0.5;
					b1 = b1 - 1;
				} else if (f1 === '能量防') {
					lscz1 += "能量防，"
					d1 = 5;
					e1 = 0;
					b1 = b1 - 1;
				} else if (f1 === '反弹') {
					lscz1 += "反弹，"
					d1 = 6;
					e1 = 0;
					c1 = c1 - 1;
				} else if (f1 === '黑洞') {
					lscz1 += "黑洞，"
					d1 = 7;
					e1 = 0;
					b1 = b1 - 2;
				} else if (f1 === '四发') {
					lscz1 += "四发，"
					d1 = 2;
					e1 = 4;
					b1 = b1 - 4;
				} else if (f1 === '火炮') {
					lscz1 += "火炮，"
					d1 = 3;
					e1 = 2;
					b1 = b1 - 5;
				} else if (f1 === '绷带') {
					lscz1 += "绷带，"
					d1 = 8;
					e1 = 0;
					b1 = b1 - 1;
				} else if (f1 === '剑') {
					lscz1 += "剑，"
					d1 = 1;
					e1 = 1;
					b1 = b1 - 2;
				} else if (f1 === '损血回能') {
					lscz1 += "损血回能，"
					d1 = 0;
					a1 = a1 - 0.5;
					b1 = b1 + 2;
				} else if (f1 === '损血加伤') {
					lscz1 += "损血加伤，"
					d1 = 0;
					a1 = a1 - 0.5;
					sxjs1 = false;
				}

				if (f2 === '能量') {
					lscz2 += "能量，"
					d2 = 0;
					e2 = 0;
					b2 = b2 + 1;
					if (jn2[3] === 1) {
						b2 = b2 + 0.5;
					}
				} else if (f2 === '防御') {
					lscz2 += "防御，"
					d2 = 4;
					e2 = 0;
				} else if (f2 === '一发') {
					lscz2 += "一发，"
					d2 = 2;
					e2 = 1;
					b2 = b2 - 1;
				} else if (f2 === '二发') {
					lscz2 += "二发，"
					d2 = 2;
					e2 = 2;
					b2 = b2 - 2;
				} else if (f2 === '三发') {
					lscz2 += "三发，"
					d2 = 2;
					e2 = 3;
					b2 = b2 - 3;
				} else if (f2 === '炸弹') {
					lscz2 += "炸弹，"
					d2 = 3;
					e2 = 1;
					b2 = b2 - 3;
					if (jn2[1] === 1) {
						e2 = e2 + 0.5;
						b2++;
					}
				} else if (f2 === '刀') {
					lscz2 += "刀，"
					d2 = 1;
					e2 = 0.5;
					b2 = b2 - 1;
				} else if (f2 === '能量防') {
					lscz2 += "能量防，"
					d2 = 5;
					e2 = 0;
					b2 = b2 - 1;
				} else if (f2 === '反弹') {
					lscz2 += "反弹，"
					d2 = 6;
					e2 = 0;
					c2 = c2 - 1;
				} else if (f2 === '黑洞') {
					lscz2 += "黑洞，"
					d2 = 7;
					e2 = 0;
					b2 = b2 - 2;
				} else if (f2 === '四发') {
					lscz2 += "四发，"
					d2 = 2;
					e2 = 4;
					b2 = b2 - 4;
				} else if (f2 === '火炮') {
					lscz2 += "火炮，"
					d2 = 3;
					e2 = 2;
					b2 = b2 - 5;
				} else if (f2 === '绷带') {
					lscz2 += "绷带，"
					d2 = 8;
					e2 = 0;
					b2 = b2 - 1;
				} else if (f2 === '剑') {
					lscz2 += "剑，"
					d2 = 1;
					e2 = 1;
					b2 = b2 - 2;
				} else if (f2 === '损血回能') {
					lscz2 += "损血回能，"
					d2 = 0;
					a2 = a2 - 0.5;
					b2 = b2 + 2;
				} else if (f2 === '损血加伤') {
					lscz2 += "损血加伤，"
					d2 = 0;
					a2 = a2 - 0.5;
					sxjs2 = false;
				}

				f3 = f1;
				if (jn3 [6]=== 1) {
					e1 = e1 * 2;
				}
				if (jn2[6] === 1) {
					e2 = e2 * 2;
				}
				aa1 = a1;
				aa2 = a2;
 if((d1=== 2 || d1===3) && jn2[9]===1 && d2===1){
e1=e1-e2;
e2=0;
} 
if((d2===2 || d2===3) && jn3[9]===1 && d1===1){
e2=e2-e1;
e1=0;
}
				if ((d1 === 0||d1===8) && !(d2 === 1 && jn3[5] === 1)) {
					a1 = a1 - e2;
				} else if (d1 === 1) {
					if ((d2 === 0 || d2 === 4 || d2 === 5 || d2 === 7 || d2 === 8) && jn2[5] == 0) {
						a2 = a2 - e1;
					} else if (d2 === 2 || d2 === 3) {
						a1 = a1 - e2;
					} else if (d2 === 1) {
						if (e1 > e2 && jn2[5] == 0) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2 && jn3[5] == 0) {
							a1 = a1 - e2 + e1;
						}
					}else if (d2===6 &&jn3 [9]===1){ 
a2=a2-e1;
}
				} else if (d1 === 2) {
					if (d2 === 0 || d2 === 1 || d2 === 8) {
						a2 = a2 - e1;
					} else if (d2 === 2) {
						if (e1 > e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 3) {
						if (e1 >= e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2) {
							a1 = a1 - e2;
						}
					} else if (d2 === 5 && e1 >= 2) {
						a2 = a2 - e1 + 2;
					} else if (d2 === 6) {
						a1 = a1 - e1;
					}
				}
				if (d1 === 3) {
					if (d2 === 0 || d2 === 4 || d2 === 1 || d2 === 8) {
						a2 = a2 - e1;
					} else if (d2 === 2) {
						if (e1 >= e2) {
							a2 = a2 - e1;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 3) {
						if (e1 > e2) {
							a2 = a2 - e1 + e2;
						} else if (e1 < e2) {
							a1 = a1 - e2 + e1;
						}
					} else if (d2 === 6) {
						a1 = a1 - e1;
					}
				} else if (d1 === 4) {
					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					} else if (d2 === 3) {
						a1 = a1 - e2;
					}
				} else if (d1 === 5) {

					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					} else if (e2 >= 2) {
						a1 = a1 - e2 + 2;
					}
				} else if (d1 === 6) {
					if (d2 === 2 || d2 === 3){
						a2 = a2 - e2;
					}
if(d2===1&&jn2[9]===1){
a1=a1-e2;
}
				}
				if (d1 === 7) {
					if (d2 === 1 && jn3[5] == 0) {
						a1 = a1 - e2;
					}
					if (f2 === '能量') {
						b1 = b1 + 1;
						b2 = b2 - 1
						if (jn2[3] === 1) {
							b1 = b1 + 0.5;
							b2 = b2 - 0.5;
						}
					}
					if (f2 === '损血回能') {
						b1 = b1 + 2;
						b2 = b2 - 2;
					}
					if (f2 === '一发') {
						b1 = b1 + 1;
					}
					if (f2 === '二发') {
						b1 = b1 + 2;
					}
					if (f2 === '三发') {
						b1 = b1 + 3;
					}
					if (f2 === '四发') {
						b1 = b1 + 4;
					}
					if (f2 === '火炮') {
						b1 = b1 + 5;
					}
					if (f2 === '绷带') {
						b1 = b1 + 1;
					}
					if (f2 === '炸弹') {
						b1 = b1 + 3;
						if (jn2[1] === 1) {
							b1 = b1 - 1;
						}
					}
					if (f2 === '能量防') {
						b1 = b1 + 1;
					}
					if (f2 === '反弹') {
						c1 = c1 + 1;
					}
				}
				if (d2 === 7) {
					if (d1 != 1) {
						a2 = a2 + e1;
					}
					if (f1 === '能量') {
						b2 = b2 + 1;
						b1 = b1 - 1;
						if (jn3[1] === 1) {
							b2 = b2 + 0.5;
							b1 = b1 - 0.5;
						}
					}
					if (f1 === '损血回能') {
						b2 = b2 + 2;
						b1 = b1 - 2;
					}
					if (f1 === '一发') {
						b2 = b2 + 1;
					}
					if (f1 === '二发') {
						b2 = b2 + 2;
					}
					if (f1 === '三发') {
						b2 = b2 + 3;
					}
					if (f1 === '四发') {
						b2 = b2 + 4;
					}
					if (f1 === '火炮') {
						b2 = b2 + 5;
					}
					if (f1 === '绷带') {
						b2 = b2 + 1;
					}
					if (f1 === '炸弹') {
						b2 = b2 + 3;
						if (jn3[1] === 1) {
							b2 = b2 - 1;
						}
					}
					if (f1 === '能量防') {
						b2 = b2 + 1;
					}
					if (f1 === '反弹') {
						c2 = c2 + 1;
					}
				}
				if (a1 != aa1 && !sxjs2) {
					a1 = a1 - 1;
					sxjs2 = true;
				}
				if (a2 != aa2 && !sxjs1) {
					a2 = a2 - 1;
					sxjs1 = true;
				}
      

				if (jn3[7] === 1 && aa1 - a1 > aa / 2) {
					a1 = aa1 - aa / 2
				}
				if (jn2[7] === 1 && aa2 - a2 > aa / 2) {
					a2 = aa2 - aa / 2
				}
				if (jn3[8] === 1 && a1 != aa1 - e2) {
					a2 = a2 - (e2 - aa1 + a1) / 2;
				}
				if (jn3[8] === 1 && a2 != aa2 - e1) {
					a1 = a1 - (e1 - aa2 + a2) / 2;
				}
				if (d1 === 8 && a1 === aa1 && d2 != 7) {
					a1 = a1 + 1;
					if (a1 > aa) {
						a1 = aa;
					}
				}
				if (d2 === 8 && a2 === aa && d1 != 7) {
					a2 = a2 + 1;
					if (a2 > aa) {
						a2 = aa;
					}
				}
				g();
				j();
				if (a1 <= 0) {

					zong++;
					zong1++;
					document.getElementById('result').textContent = '你输了';
let yxjg={模式:mqms,结果:'负',时间:new Date().toLocaleString()};
lsjlbg.push(yxjg);
lsjlbg1.push(yxjg);
					jz();
				} else if (a2 <= 0) {

					zong++;
					ying++;
					zong1++;
					ying1++;
					document.getElementById('result').textContent = '你赢了';
let yxjg={模式:mqms,结果:'胜',时间:new Date().toLocaleString()};
lsjlbg.push(yxjg);
lsjlbg1.push(yxjg);
					jz();
				}
			}
			window.onload = ss;
		</script>

	</body>
</html>
